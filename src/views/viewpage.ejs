<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Isut page</title>
<link rel="shortcut icon" href="../graphics/isut-32.ico" />
<script type="text/javascript" src="../lib/util.js"></script>
<script type="text/javascript" src="../lib/geometry.js"></script>
<script type="text/javascript" src="../lib/subimage.js"></script>
<script type="text/javascript" src="../lib/unipoints.js"></script>
<script type="text/javascript" src="../lib/quadtrees.js"></script>
<link rel="stylesheet" type="text/css" href="../lib/hierojax.css" />
<script type="text/javascript" src="../lib/hierojax.js"></script>
<link rel="stylesheet" type="text/css" href="../lib/zoomcanvas.css" />
<script type="text/javascript" src="../lib/zoomcanvas.js"></script>
<link rel="stylesheet" type="text/css" href="../css/isut.css" />
<link rel="stylesheet" type="text/css" href="../css/viewpage.css" />
<script type="text/javascript" src="../js/util.js"></script>
<script type="text/javascript" src="../js/isut.js"></script>
<script type="text/javascript">
const _id = <%- JSON.stringify(text._id); %>
const textIndex = <%- JSON.stringify(text.index); %>
const page = <%- JSON.stringify(page); %>
const lineIndex = <%- JSON.stringify(lineindex); %>
const glyphIndex = <%- JSON.stringify(glyphindex); %>
</script>
<script type="text/javascript" src="../js/viewpage.js"></script>
</head>
<body>

<%- include('navigation', { tabbed: 'texts' }); %>

<h1 class="text-navigation"><%- text.name ? text.name : "<i>unnamed</i>" %>
<button type="button" class="navigation-button" 
onclick="location.href='../text/view?_id=<%= text._id %>';" 
title="back to text">&#x21E7</button></h1>

<h2 class="page-navigation"><% if (prev >= 0) { %><button type="button" class="navigation-button"
onclick="location.href='../page/view?_id=<%= text._id %>&index=<%= prev %>';" 
title="previous page">&#x21E6</button>
<% } %><%- page.name ? page.name : "<i>unnamed</i>" %><% if (next >= 0) { %>
<button type="button" class="navigation-button"
onclick="location.href='../page/view?_id=<%= text._id %>&index=<%= next %>';" 
title="next page">&#x21E8</button><% } %></h2>

<fieldset id="display-fields">
<legend>image</legend>
<form id="display-mode">
</form>
</fieldset>
<fieldset>
<legend>view</legend>
<form id="annotation-mode">
<input type="radio" name="annotation" id="plain-annotation" value="plain" checked><label for="plain-annotation">plain</label>
<input type="radio" name="annotation" id="glyph-annotation" value="glyphs"><label for="glyph-annotation">glyphs</label>
<input type="radio" name="annotation" id="line-annotation" value="lines"><label for="line-annotation">lines</label>
</form>
</fieldset>
<div id="page-canvas"></div>

</body>
</html>
