<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>Editor help</title>
</head>
<body>

<h1>Manual of Unicode Editor in JavaScript</h1>

<h2>Introductory examples</h2>

Groups are generally constructed from the bottom up, and from left to right
(or right to left, depending on the text direction).
One can use a combination of mouse clicks and keyboard input.
An example is:
<ol>
<li> Type <b>n</b> or click on <b>named</b>, and type <tt>sw</tt> into the name field
<li> Type or click on <b>-</b>
<li> Type <tt>t</tt>
<li> Type or click on <b>:</b>
<li> Type <tt>n</tt>
<li> Type or click on <b>-</b>
<li> Type <tt>zA</tt>
<li> Press the space bar and type <b>i</b>, or click on <b>insert</b>
<li> Type <tt>Z1</tt>
</ol>
Now the desired groups are visible in the preview panel, and with internal
structure in the tree panel, and the corresponding Unicode sequence is
in the text panel near the bottom of the page, above the <b>Parse</b> button.
Below the <b>Parse</b> button, the actual characters are displayed.
<p>
Suppose we wanted to move the ideogram marker (Z1) to the bottom left
corner. Then we do:
<ol>
<li> Press the space bar and the arrow up
<li> Type <b>s</b> and then <b>b</b>, or select <b>sb</b> with the mouse
</ol>
For a sign with several insertions, starting from an empty fragment, do:
<ol>
<li> Type <b>n</b> or click on <b>named</b>, and type <tt>zA</tt>
<li> Press the space bar and type <b>i</b>, or click on <b>insert</b>
<li> Type <tt>N21</tt>
<li> Press the space bar and the arrow up
<li> Type <b>i</b>, or click on <b>insert</b>
<li> Type <tt>t</tt>
<li> Press the space bar and the arrow up
<li> Type <b>s</b> and then <b>b</b>, or select <b>sb</b> with the mouse
</ol>
If one has an existing Unicode sequence, then this can be entered in the 
text panel.
To try this out, press <b>Clear</b>, enter
<tt>&amp;#x131d3;&amp;#x133cf;&amp;#x13430;&amp;#x13216;</tt> in the 
text panel above the <b>Parse</b> button, and press
<b>Parse</b>, and observe that the preview and tree panels are
populated with the corresponding graphical representations.

<h2>Structure of the page</h2>

The page is divided into:
<ul>
<li> the header,
<li> the text direction panel,
<li> the preview panel,
<li> the tree panel,
<li> the control panel, 
<li> the text panel, and
<li> the character panel.
</ul> 

<h3>Header</h3>

There are two drop-down lists for changing the fontsizes in the preview and
tree panels.
There are also buttons to undo or redo edit operations, and to open this help page.

<h3>Text direction panel</h3>

The panel for changing the text direction
is located in the top-left or top-right corner of the page, immediately next
to the preview panel.
One may select the desired text direction
by pressing one of the four relevant buttons.

<h3>Preview panel</h3>

The preview panel presents a fragment in graphical form, as it would
appear to the reader of a printed document or web page.

<h3>Tree panel</h3>

The tree panel presents the fragment in an hierarchical form.
Nodes connected by edges represent expressions and their subexpressions.
<p>
In each fragment there is at most one group that is the current focus.
The focus is the target of edit operations.
In the tree panel, the focus is indicated by a thick blue boundary
around a node, as opposed to a thin gray boundary.
In the preview panel, the top-most group containing the current focus is
indicated by a blue square. The current focus can also be an operator
between two groups. If no group or operator holds the focus, 
there is a blue line at the beginning of the preview panel.
<p>
In the tree panel, the focus can be changed by clicking on a node.
In the preview panel, the root node of a top-level group can be
made the focus by clicking on that group; one may also click
on the white space between two groups to transfer focus to the position
between the two groups.
Other ways to navigate rely on keyboard shortcuts, as will be explained later.

<h3>Control panel</h3>

The control panel contains buttons for changing the structure of the fragment
and for changing the corners of insertions.
Only those buttons are shown that are relevant to the current focus.

<h3>Text panel</h3>

The text panel contains the Unicode fragment. This fragment is updated every time
an edit is made, for example through the buttons in the control panel.
Alternatively, one can edit the text panel and press
<b>Parse</b>, which updates the preview and tree panels.
By pressing <b>Clear</b>, one obtains an empty fragment.

<h3>Character panel</h3>

The character panel shows the bare sequence of Unicode characters. The
sequence is updated every time an edit is made. One cannot enter text into
this panel nor edit its contents.

<h2>Editing</h2>

<h3>Changing the structure</h3>

Depending on the current focus, the following buttons may be available to
change the structure of a fragment:
<ul>
<li> <b>named</b> creates a new group consisting of a named glyph.
<li> '<b>-</b>' creates a new group following the current group or operator, initially containing a named glyph. 
<li> '<b>*</b>' generally appends a new subgroup of a horizontal group, 
initially consisting of a named glyph.
If the current focus is an operator ':' or '-' however, 
then the two groups on either side are combined into a horizontal group.
<li> '<b>:</b>' behaves similarly, but for vertical groups.
<li> '<b>+</b>' and '<b>;</b>' can be used to insert a new subgroup
<em>before</em> the current focus, in a horizontal group
and vertical group, respectively.
<li> <b>stack</b> and <b>insert</b> generally create
a new element in the structure, of which the current focus becomes the
first argument; the second argument initially consists of a named glyph.
If the current focus is an operator however, 
then the two groups on either side become the two arguments of a stack or insert,
respectively.
<li> <b>swap</b> swaps the name of the current named glyph and that of
the next one.
<li> <b>delete</b> generally removes the node with the current focus. 
This may lead to further changes to preserve the integrity of the syntax.
For example, if <tt>B1</tt> is removed from <tt>A1*B1</tt>,
then the operator '<tt>*</tt>' also needs to be removed, and only <tt>A1</tt>
remains. If '<tt>*</tt>' is removed from <tt>A1*B1</tt>, then
two isolated named glyphs remain, or in other words, we obtain the fragment <tt>A1-B1</tt>.
</ul>

<h3>Keyboard shortcuts</h3>

Use of the mouse can to a great extent be avoided by keyboard shortcuts.
The four arrow keys can be used to move the focus in the tree panel.
The <tt>Home</tt> and <tt>End</tt> keys transfer the focus to the first and last
top-level group, respectively.
<p>
Buttons that change the structure of groups
can be activated by entering characters such as
'<tt>*</tt>', '<tt>:</tt>', '<tt>-</tt>', 
the <tt>Delete</tt> key for <b>delete</b>, 
'<tt>n</tt>' for <b>named</b>, etc.
(See the letters on the buttons that are underlined.)
<p>
The above keyboard shortcuts will work if the browser's focus is 
on the preview or tree panels, which is indicated by a blue dotted border
around the preview or tree panels.
In addition, the keyboard shortcuts for 
'<tt>*</tt>', '<tt>+</tt>', '<tt>:</tt>', '<tt>;</tt>', '<tt>-</tt>', 
can be used directly after typing the name of a named glyph.
<p>
If the browser's focus is in a text field, it can be transferred to the tree panel
by pressing the space bar. Conversely, if the browser's focus is in the preview or
tree panel, and the editor's focus is on a named glyph, then the browser's focus
can be transferred to the name field by pressing the space bar once more.

<h2>Sign chooser</h2>

The following is relevant when the editor's focus is on a named glyph.
<p>
The menu of signs is activated by clicking <b>menu</b>, or by entering
'<tt>u</tt>' when the browser's focus is on the preview or tree panels, or
by entering '<tt>u</tt>' into an otherwise empty name field.
<p>
By clicking the tabs at the top of the window, one may view categories of
signs according to Gardiner's sign list. Three extra tabs show collections
of signs according to shape. 
Alternatively, one may navigate through the tabs
using the four arrow keys. 
A sign is selected by clicking on it.
<p>
One may also type the name of a sign, by keyboard presses of letters and digits
(there is no need for the <tt>Shift</tt> key). The name will appear in the 
upper left corner.
After entering the first letter (or the first two letters for 'NL', 'NU',
'Aa'), signs in the relevant category will appear.
One may then type the remaining digits, and possibly more letters, 
and press <tt>Enter</tt> to select the sign.
Typed characters can be erased by pressing <tt>Backspace</tt>;
this is not needed for switching between categories however:
by pressing '<tt>a</tt>', then then '<tt>b</tt>', 
one switches from category 'A' directly to category 'B'.
By pressing <tt>Esc</tt>, or by clicking on the upper right corner of the menu, 
one exits the sign chooser without having selected a sign.
<p>
Information on signs can be obtained by clicking <b>info on</b> and moving the 
mouse over a sign. 
Alternatively, this functionality can be switched on/off by pressing the space bar.
The information is presented in the right or left half of the 
screen if the mouse moves over a sign in the left or right half, respectively.

</body>
</html>
